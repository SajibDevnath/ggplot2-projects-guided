[
  {
    "path": "posts/2020-12-20-project-3/",
    "title": "Project 3",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Sajib Devnath",
        "url": "https://www.sajibdevnath.com"
      }
    ],
    "date": "2020-12-20",
    "categories": [],
    "contents": "\r\n\r\n\r\nlibrary(tidyverse)\r\ntheme_set(theme_minimal())\r\n\r\n\r\n\r\n\r\n\r\nconfirmed_cases_worldwide <- read_csv(here::here(\"data\", \"confirmed_cases_worldwide.csv\"))\r\n\r\n\r\n\r\n\r\n\r\nggplot(confirmed_cases_worldwide, aes(date, cum_cases )) +\r\n  geom_line() \r\n\r\n\r\n\r\n\r\n\r\n\r\n# Read in datasets/confirmed_cases_china_vs_world.csv\r\nconfirmed_cases_china_vs_world <-  read_csv(here::here(\"data\", \"confirmed_cases_china_vs_world.csv\"))\r\n\r\n# See the result\r\nglimpse(confirmed_cases_china_vs_world)\r\n\r\n\r\nRows: 112\r\nColumns: 4\r\n$ is_china  <chr> \"China\", \"China\", \"China\", \"China\", \"China\", \"C...\r\n$ date      <date> 2020-01-22, 2020-01-23, 2020-01-24, 2020-01-25...\r\n$ cases     <dbl> 548, 95, 277, 486, 669, 802, 2632, 578, 2054, 1...\r\n$ cum_cases <dbl> 548, 643, 920, 1406, 2075, 2877, 5509, 6087, 81...\r\n\r\nggplot(confirmed_cases_china_vs_world, aes(date, cum_cases, color = is_china, group = is_china)) +\r\n  geom_line() +\r\n  ylab(\"Cumulative confirmed cases\")\r\n\r\n\r\n\r\n\r\n\r\n\r\nwho_events <- tribble(\r\n  ~ date, ~ event,\r\n  \"2020-01-30\", \"Global health\\nemergency declared\",\r\n  \"2020-03-11\", \"Pandemic\\ndeclared\",\r\n  \"2020-02-13\", \"China reporting\\nchange\"\r\n) %>%\r\n  mutate(date = as.Date(date))\r\n\r\nggplot(confirmed_cases_china_vs_world) +\r\n  geom_line(aes(date, cum_cases, color = is_china, group = is_china)) +\r\n  ylab(\"Cumulative confirmed cases\") +\r\n  geom_vline(data = who_events, aes(xintercept = date), linetype = 8) +\r\n  geom_text(data = who_events, aes(date, label = event), y = 1e5)\r\n\r\n\r\n\r\n\r\n\r\n\r\n# Filter for China, from Feb 15\r\nchina_after_feb15 <- confirmed_cases_china_vs_world %>%\r\n  filter(date >= as.Date(\"2020-02-15\"), is_china == \"China\")\r\n\r\n# Using china_after_feb15, draw a line plot cum_cases vs. date\r\n# Add a smooth trend line using linear regression, no error bars\r\nggplot(china_after_feb15, aes(date, cum_cases)) +\r\n  geom_line() +\r\n  geom_smooth(method = \"lm\", se = FALSE) +\r\n  ylab(\"Cumulative confirmed cases\")\r\n\r\n\r\n\r\n\r\n\r\n\r\n# Filter confirmed_cases_china_vs_world for not China\r\nnot_china <- confirmed_cases_china_vs_world %>%\r\n  filter(is_china != \"China\")\r\n\r\n# Using not_china, draw a line plot cum_cases vs. date\r\n# Add a smooth trend line using linear regression, no error bars\r\nplt_not_china_trend_lin <- ggplot(not_china, aes(date, cum_cases)) +\r\n  geom_line() +\r\n  geom_smooth(method = \"lm\", se = FALSE) +\r\n  ylab(\"Cumulative confirmed cases\")\r\n\r\n# See the result\r\nplt_not_china_trend_lin \r\n\r\n\r\n\r\n\r\nFrom the plot above, we can see a straight line does not fit well at all, and the rest of the world is growing much faster than linearly. What if we added a logarithmic scale to the y-axis?\r\n\r\n\r\nplt_not_china_trend_lin + \r\n  scale_y_log10()\r\n\r\n\r\n\r\n\r\n\r\n\r\nconfirmed_cases_by_country <- read_csv(here::here(\"data\", \"confirmed_cases_by_country.csv\"))\r\n\r\n\r\n\r\n\r\n\r\nconfirmed_cases_by_country %>% \r\n  group_by(country) %>% \r\n  summarize(total_cases = sum(cum_cases)) %>% \r\n  arrange(desc(total_cases)) %>% \r\n  head(7) -> top_countries_by_total_cases\r\n\r\n\r\n\r\n\r\n\r\nconfirmed_cases_top7_outside_china <- read_csv(here::here(\"data\", \"confirmed_cases_top7_outside_china.csv\")) \r\n\r\nggplot(confirmed_cases_top7_outside_china, aes(date, cum_cases, color = country)) +\r\n  geom_line() +\r\n  ylab(\"Cumulative confirmed cases\")\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2020-12-20-project-3/project-3_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2020-12-20T03:26:13+06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-12-19-project-1/",
    "title": "Project 1",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Sajib Devnath",
        "url": "https://www.sajibdevnath.com"
      }
    ],
    "date": "2020-12-19",
    "categories": [],
    "contents": "\r\nLibraries:\r\n\r\n\r\nlibrary(tidyverse)\r\n\r\n\r\n\r\n\r\n\r\nlife_expec <- read_csv(here::here(\"data\", \"undata1.csv\")) %>% \r\n  janitor::clean_names()\r\n\r\n\r\n\r\n\r\n\r\n(dt <- life_expec %>% \r\n  filter(year == \"2000-2005\") %>% \r\n  rename(country = country_or_area, gender = subgroup, life_expectancy = value) %>% \r\n  select(country, gender, life_expectancy) %>% \r\n  pivot_wider(names_from = gender, values_from = life_expectancy)   \r\n)\r\n\r\n\r\n# A tibble: 195 x 3\r\n   country     Female  Male\r\n   <chr>        <dbl> <dbl>\r\n 1 Afghanistan     42    42\r\n 2 Albania         79    73\r\n 3 Algeria         72    70\r\n 4 Angola          43    39\r\n 5 Argentina       78    71\r\n 6 Armenia         75    68\r\n 7 Aruba           76    70\r\n 8 Australia       83    78\r\n 9 Austria         82    76\r\n10 Azerbaijan      70    63\r\n# ... with 185 more rows\r\n\r\n\r\n\r\ndt %>% \r\n  ggplot(aes(x = Male, y = Female)) +\r\n  geom_point() +\r\n  xlim(35, 85) +\r\n  ylim(35, 85) + \r\n  geom_abline(slope = 1)\r\n\r\n\r\n\r\n\r\n\r\n\r\nggplot(dt, aes(x=Male, y=Female))+\r\n  geom_point(colour=\"white\", fill=\"chartreuse3\", shape=21, alpha=.55, size=5)+\r\n  geom_abline(intercept = 0, slope = 1, linetype=2)+\r\n  scale_x_continuous(limits=c(35,85))+\r\n  scale_y_continuous(limits=c(35,85))+\r\n  labs(title=\"Life Expectancy at Birth by Country\",\r\n       subtitle=\"Years. Period: 2000-2005. Average.\",\r\n       caption=\"Source: United Nations Statistics Division\",\r\n       x=\"Males\",\r\n       y=\"Females\")\r\n\r\n\r\n\r\n\r\nFinding where Male and Female life expectancy difference is the highest.\r\n\r\n\r\ntop_male <- dt %>% arrange(desc(Male - Female)) %>% head(3)\r\ntop_female <- dt %>% arrange(desc(Female - Male)) %>% head(3)\r\n\r\n\r\n\r\n\r\n\r\nggplot(dt, aes(x=Male, y=Female))+\r\n  geom_point(colour=\"white\", fill=\"chartreuse3\", shape=21, alpha=.55, size=5)+\r\n  geom_abline(intercept = 0, slope = 1, linetype=2)+\r\n  scale_x_continuous(limits=c(35,85))+\r\n  scale_y_continuous(limits=c(35,85))+\r\n  geom_text(data = top_male, aes(label = country)) +\r\n  geom_text(data = top_female, aes(label = country)) +\r\n  labs(title=\"Life Expectancy at Birth by Country\",\r\n       subtitle=\"Years. Period: 2000-2005. Average.\",\r\n       caption=\"Source: United Nations Statistics Division\",\r\n       x=\"Males\",\r\n       y=\"Females\") +\r\n  theme_bw()\r\n\r\n\r\n\r\n\r\n\r\n\r\nlife_expec %>% \r\n  filter(year %in% c(\"1985-1990\", \"2000-2005\")) %>% \r\n  mutate(sub_year = paste(subgroup, year, sep = \"_\")) %>% \r\n  mutate(sub_year=gsub(\"-\", \"_\", sub_year)) %>% \r\n  select(-subgroup, -year) %>% \r\n  pivot_wider(names_from = sub_year, values_from = value) %>% \r\n  mutate(\r\n    diff_female = Female_2000_2005 - Female_1985_1990,\r\n    diff_male = Male_2000_2005 - Male_1985_1990 \r\n  ) -> dt2\r\n\r\n\r\n\r\n\r\n\r\nggplot(dt2, aes(x=diff_male, y=diff_female, label=country_or_area))+\r\n  geom_point(colour=\"white\", fill=\"chartreuse3\", shape=21, alpha=.55, size=5)+\r\n  geom_abline(intercept = 0, slope = 1, linetype=2)+\r\n  xlim(-25, 25) +\r\n  ylim(-25, 25) +\r\n  geom_hline(yintercept = 0) +\r\n  geom_vline(xintercept = 0) +\r\n  labs(title=\"Life Expectancy at Birth by Country in Years\",\r\n       subtitle=\"Difference between 1985-1990 and 2000-2005. Average.\",\r\n       caption=\"Source: United Nations Statistics Division\",\r\n       x=\"Males\",\r\n       y=\"Females\")+\r\ntheme_bw()\r\n\r\n\r\n\r\n\r\n\r\n\r\ntop <- dt2 %>% arrange(diff_male+diff_female) %>% head(3)\r\nbottom <- dt2 %>% arrange(-(diff_male+diff_female)) %>% head(3)\r\n\r\nggplot(dt2, aes(x=diff_male, y=diff_female, label=country_or_area))+\r\n  geom_point(colour=\"white\", fill=\"chartreuse3\", shape=21, alpha=.55, size=5)+\r\n  geom_abline(intercept = 0, slope = 1, linetype=2)+\r\n  geom_text(data = top, aes(label = country_or_area)) +\r\n  geom_text(data = bottom, aes(label = country_or_area)) +\r\n  xlim(-25, 25) +\r\n  ylim(-25, 25) +\r\n  geom_hline(yintercept = 0) +\r\n  geom_vline(xintercept = 0) +\r\n  labs(title=\"Life Expectancy at Birth by Country in Years\",\r\n       subtitle=\"Difference between 1985-1990 and 2000-2005. Average.\",\r\n       caption=\"Source: United Nations Statistics Division\",\r\n       x=\"Males\",\r\n       y=\"Females\")+\r\ntheme_bw()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2020-12-19-project-1/project-1_files/figure-html5/unnamed-chunk-4-1.png",
    "last_modified": "2020-12-20T01:55:26+06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-12-19-project-2/",
    "title": "Project 2",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Sajib Devnath",
        "url": "https://www.sajibdevnath.com"
      }
    ],
    "date": "2020-12-19",
    "categories": [],
    "contents": "\r\nWho Is Drunk and When in Ames, Iowa?\r\nLibrary:\r\n\r\n\r\nlibrary(tidyverse)\r\ntheme_set(theme_minimal())\r\n\r\n\r\n\r\nData:\r\n\r\n\r\nba_data <- read_csv(here::here(\"data\", \"breath_alcohol_ames.csv\"))\r\nba_year <- count(ba_data, year)\r\n\r\n\r\n\r\nData manipulation:\r\n\r\n\r\n(\r\n  \r\n  pds <- ba_data %>% \r\n    group_by(location) %>% \r\n    summarise(n = n())\r\n  \r\n)\r\n\r\n\r\n# A tibble: 2 x 2\r\n  location     n\r\n  <chr>    <int>\r\n1 Ames PD    616\r\n2 ISU PD     940\r\n\r\nHourly Breathalyzer tests:\r\n\r\n\r\nba_data %>% \r\n  group_by(hour) %>% \r\n  summarise(test_num = n()) %>% \r\n  ggplot(aes(x = hour, y = test_num)) +\r\n  geom_col()\r\n\r\n\r\n\r\n\r\nMonthly Breathalyzer tests:\r\n\r\n\r\nba_data %>% \r\n  group_by(month) %>% \r\n  summarise(test_num = n()) %>% \r\n  ggplot(aes(x = month, y = test_num)) +\r\n  geom_col(width = .7) +\r\n  scale_x_continuous(breaks = 1:12)\r\n\r\n\r\n\r\n\r\nTests by Gender:\r\n\r\n\r\nba_data %>% \r\n  filter(!is.na(gender)) %>% \r\n  mutate(meanRes = (Res1 + Res2) / 2) %>% \r\n  ggplot(aes(gender, meanRes)) +\r\n  geom_boxplot()\r\n\r\n\r\n\r\n\r\n\r\n\r\nba_data %>% \r\n  mutate(date = lubridate::ymd(paste(year, month, day, sep = \"-\"))) %>% \r\n  mutate(week = lubridate::week(date)) %>% \r\n  mutate(year = as.factor(year)) %>% \r\n  count(year, week) %>% \r\n  ggplot(aes(week, n, color = year)) +\r\n  geom_line() +\r\n  facet_wrap(~ year, ncol = 1, strip.position = \"right\") +\r\n  scale_x_continuous(breaks = seq(0,52,4))\r\n\r\n\r\n\r\n\r\n\r\n\r\nweekly <- ba_data %>% \r\n  mutate(date = lubridate::ymd(paste(year, month, day, sep = \"-\"))) %>% \r\n  mutate(week = lubridate::week(date)) %>% \r\n  mutate(year = as.factor(year)) %>% \r\n  count(year, week) \r\n\r\nggplot() + \r\n  geom_point(data = weekly, aes(x = week, y = n, color = year)) + \r\n  geom_line(data = weekly, aes(x = week, y = n, color = year)) +  # included to make the plot more readable \r\n  geom_segment(data = NULL, arrow = arrow(angle = 20, length = unit(0.1, \"inches\"),\r\n                                          ends = \"last\", type = \"closed\"), \r\n               aes(x = c(20,20), xend = c(15.5,16), y = c(21, 20), yend = c(21, 12.25))) + \r\n  geom_text(data = NULL, aes(x = 23, y = 20.5, label = \"VEISHEA Weeks\"), size = 3) + \r\n  scale_x_continuous(breaks = seq(0,52,4)) +\r\n  theme(aspect.ratio = .5)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2020-12-19-project-2/project-2_files/figure-html5/unnamed-chunk-4-1.png",
    "last_modified": "2020-12-20T02:31:54+06:00",
    "input_file": {}
  }
]
